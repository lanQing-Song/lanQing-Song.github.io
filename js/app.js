"use strict";var e={version:"0.2.5",hostname:"http://yoursite.com",root:"/",statics:"//cdn.jsdelivr.net/gh/lanQing-Song/lanQing-Song.github.io@latest/",favicon:{normal:"images/My_logo.jpg",hidden:"images/My_logo.jpg"},darkmode:!1,auto_scroll:!0,js:{valine:"gh/amehime/MiniValine@4.2.2-beta10/dist/MiniValine.min.js",chart:"npm/frappe-charts@1.5.0/dist/frappe-charts.min.iife.min.js",copy_tex:"npm/katex@0.12.0/dist/contrib/copy-tex.min.js",fancybox:"combine/npm/jquery@3.5.1/dist/jquery.min.js,npm/@fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.js,npm/justifiedGallery@3.8.1/dist/js/jquery.justifiedGallery.min.js"},css:{valine:"css/comment.css",katex:"npm/katex@0.12.0/dist/katex.min.css",mermaid:"css/mermaid.css",fancybox:"combine/npm/@fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.css,npm/justifiedGallery@3.8.1/dist/css/justifiedGallery.min.css"},loader:{start:!1,switch:!1},search:{appID:null,apiKey:null,indexName:"shoka",hits:{per_page:10}},valine:{appId:"g28AhACWY8ytmjwtbnKjpWdx-gzGzoHsz",appKey:"8bzudCs4hIniYqs8LLBh6xOG",placeholder:"ヽ(○´∀`)ﾉ♪",avatar:"mp",pageSize:10,lang:"en",visitor:!0,NoRecordIP:!1,serverURLs:null,powerMode:!0,tagMeta:{visitor:"新朋友",master:"主人",friend:"小伙伴",investor:"金主粑粑"},tagColor:{master:"var(--color-orange)",friend:"var(--color-aqua)",investor:"var(--color-pink)"},tagMember:{master:null,friend:null,investor:null}},quicklink:{timeout:3e3,priority:!0},audio:[{title:"列表2",list:["https://music.163.com/#/playlist?id=5160176668"]},{title:"列表1",list:["https://music.163.com/#/playlist?id=5134756991"]}],fireworks:["rgba(79,172,254,.9)","rgba(0,242,254,.9)","rgba(56,249,215,.9)"]},t=function(e,t){return Math.floor(Math.random()*(t-e+1))+e},a=function(){return u("main > .inner").offsetHeight},n=function(e,n,t){var a;t?n():(a=document.createElement("script"),a.onload=a.onreadystatechange=function(e,t){!t&&a.readyState&&!/loaded|complete/.test(a.readyState)||(a.onload=a.onreadystatechange=null,a=void 0,!t&&n&&setTimeout(n,0))},a.src=e,document.head.appendChild(a))},i=function(t,n){var a=e[t][n];return-1<a.indexOf("npm")||-1<a.indexOf("gh")||-1<a.indexOf("combine")?"//cdn.jsdelivr.net/"+a:-1<a.indexOf("http")?a:m+a},r=function(e,t,a){LOCAL[e]&&n(i("js",e),t||function(){window[e]=!0},a||window[e])},s=function(e){window["css"+e]||LOCAL[e]&&(document.head.createChild("link",{rel:"stylesheet",href:i("css",e)}),window["css"+e]=!0)},o=function(e){var t=e.text||e.textContent||e.innerHTML||"",n=e.parentNode;n.removeChild(e);var a=document.createElement("script");e.id&&(a.id=e.id),e.className&&(a.className=e.className),e.type&&(a.type=e.type),e.src&&(a.src=e.src,a.async=!1),void 0!==e.dataset.pjax&&(a.dataset.pjax=""),""!==t&&a.appendChild(document.createTextNode(t)),n.appendChild(a)},c=function(e,t,n){var a={targets:"number"==typeof t?e.parentNode:document.scrollingElement,duration:500,easing:"easeInOutQuad",scrollTop:t||("number"==typeof e?e:e?e.top()+document.documentElement.scrollTop-_:0),complete:function(){n&&n()}};anime(a)},l=function(e,t,n){var a={},i="none";switch(t){case 0:a={opacity:[1,0]};break;case 1:a={opacity:[0,1]},i="block";break;case"bounceUpIn":a={begin:function(){e.display("block")},translateY:[{value:-60,duration:200},{value:10,duration:200},{value:-5,duration:200},{value:0,duration:200}],opacity:[0,1]},i="block";break;case"shrinkIn":a={begin:function(){e.display("block")},scale:[{value:1.1,duration:300},{value:1,duration:200}],opacity:1},i="block";break;case"slideRightIn":a={begin:function(){e.display("block")},translateX:[100,0],opacity:[0,1]},i="block";break;case"slideRightOut":a={translateX:[0,100],opacity:[1,0]};break;default:i=(a=t).display}anime(Object.assign({targets:e,duration:200,easing:"linear"},a)).finished.then(function(){e.display(i),n&&n()})},d={get:function(e){return localStorage.getItem(e)},set:function(e,t){return localStorage.setItem(e,t),t},del:function(e){localStorage.removeItem(e)}},u=function(e,t){return t=t||document,0===e.indexOf("#")?t.getElementById(e.replace("#","")):t.querySelector(e)};u.all=function(e,t){return(t=t||document).querySelectorAll(e)},u.each=function(e,t,n){return u.all(e,n).forEach(t)},Object.assign(HTMLElement.prototype,{createChild:function(e,t,n){var a=document.createElement(e);switch(Object.assign(a,t),n){case"after":this.insertAfter(a);break;case"replace":this.innerHTML="";default:this.appendChild(a)}return a},wrap:function(e){var t=document.createElement("div");Object.assign(t,e),this.parentNode.insertBefore(t,this),this.parentNode.removeChild(this),t.appendChild(this)},height:function(e){return e&&(this.style.height="number"==typeof e?e+"rem":e),this.getBoundingClientRect().height},width:function(e){return e&&(this.style.width="number"==typeof e?e+"rem":e),this.getBoundingClientRect().width},top:function(){return this.getBoundingClientRect().top},left:function(){return this.getBoundingClientRect().left},attr:function(e,t){return null===t?this.removeAttribute(e):t?(this.setAttribute(e,t),this):this.getAttribute(e)},insertAfter:function(e){var t=this.parentNode;t.lastChild==this?t.appendChild(e):t.insertBefore(e,this.nextSibling)},display:function(e){return null==e?this.style.display:(this.style.display=e,this)},child:function(e){return u(e,this)},find:function(e){return u.all(e,this)},_class:function(t,e,n){var a=e.indexOf(" ")?e.split(" "):[e],i=this;a.forEach(function(e){"toggle"==t?i.classList.toggle(e,n):i.classList[t](e)})},addClass:function(e){return this._class("add",e),this},removeClass:function(e){return this._class("remove",e),this},toggleClass:function(e,t){return this._class("toggle",e,t),this},hasClass:function(e){return this.classList.contains(e)}});var y,b,I,H,A,S,_,R,P,Y,f=null,h=/mobile/i.test(window.navigator.userAgent),p=function(s,e){var t,n={type:"audio",mode:"random",btns:["play-pause","music"],controls:["mode","backward","play-pause","forward","volume"],events:{"play-pause":function(){r.paused?s.player.play():s.player.pause()},music:function(){l.el.hasClass("show")?l.hide():(l.el.addClass("show"),p.scroll().title())}}},o={random:function(e){return Math.floor(Math.random()*e)},parse:function(n){var a=[];return[["music.163.com.*song.*id=(\\d+)","netease","song"],["music.163.com.*album.*id=(\\d+)","netease","album"],["music.163.com.*artist.*id=(\\d+)","netease","artist"],["music.163.com.*playlist.*id=(\\d+)","netease","playlist"],["music.163.com.*discover/toplist.*id=(\\d+)","netease","playlist"],["y.qq.com.*song/(\\w+).html","tencent","song"],["y.qq.com.*album/(\\w+).html","tencent","album"],["y.qq.com.*singer/(\\w+).html","tencent","artist"],["y.qq.com.*playsquare/(\\w+).html","tencent","playlist"],["y.qq.com.*playlist/(\\w+).html","tencent","playlist"],["xiami.com.*song/(\\w+)","xiami","song"],["xiami.com.*album/(\\w+)","xiami","album"],["xiami.com.*artist/(\\w+)","xiami","artist"],["xiami.com.*collect/(\\w+)","xiami","playlist"]].forEach(function(e){var t=new RegExp(e[0]).exec(n);null!==t&&(a=[e[1],e[2],t[1]])}),a},fetch:(t=function(t){var s=[];return new Promise(function(i,e){t.forEach(function(e){var t,n,a=o.parse(e);a[0]?(t=JSON.stringify(a),(n=d.get(t))?(s.push.apply(s,JSON.parse(n)),i(s)):fetch("https://api.i-meto.com/meting/api?server="+a[0]+"&type="+a[1]+"&id="+a[2]+"&r="+Math.random()).then(function(e){return e.json()}).then(function(e){d.set(t,JSON.stringify(e)),s.push.apply(s,e),i(s)}).catch(function(e){})):(s.push(e),i(s))})})},a.toString=function(){return t.toString()},a),secondToTime:function(e){var t=Math.floor(e/3600),n=Math.floor((e-3600*t)/60),a=Math.floor(e-3600*t-60*n);return(0<t?[t,n,a]:[n,a]).map(function(e){return isNaN(e)?"00":e<10?"0"+e:""+e}).join(":")},nameMap:{dragStart:h?"touchstart":"mousedown",dragMove:h?"touchmove":"mousemove",dragEnd:h?"touchend":"mouseup"}},r=null;function a(e){return t.apply(this,arguments)}s.player={_id:o.random(999999),group:!0,load:function(e){var t="";for(var n in e&&0<e.length?this.options.rawList!==e&&(this.options.rawList=e,p.clear()):(t="none",this.pause()),k.el)k.el[n].display(t);return this},fetch:function(){var r=this;return new Promise(function(e,t){var n;0<p.data.length?e():r.options.rawList&&(n=[],r.options.rawList.forEach(function(i,s){n.push(new Promise(function(t,e){var n=s,a=i.list?(r.group=!0,i.list):(n=0,r.group=!1,[i]);o.fetch(a).then(function(e){p.add(n,e),t()})}))}),Promise.all(n).then(function(){e(!0)}))}).then(function(e){e&&(p.create(),C.create(),r.mode())})},mode:function(){var t=p.data.length;if(t&&p.errnum!=t){var n="next"==C.step?1:-1,a=function(){var e=p.index+n;(t<e||e<0)&&(e="next"==C.step?0:t-1),p.index=e},e=function(){var e=o.random(t);p.index!==e?p.index=e:a()};switch(this.options.mode){case"random":e();break;case"order":a();break;case"loop":C.step&&a(),-1==p.index&&e()}this.init()}},switch:function(e){"number"==typeof e&&e!=p.index&&p.current()&&!p.current().error&&(p.index=e,this.init())},init:function(){var e,t=p.current();t&&!t.error?(e=!1,r.paused||(e=!0,this.stop()),r.attr("src",t.url),r.attr("title",t.name+" - "+t.artist),this.volume(d.get("_PlayerVolume")||"0.7"),this.muted(d.get("_PlayerMuted")),b.create(),"audio"==this.options.type&&w.create(),1==e&&this.play()):this.mode()},play:function(){f&&f.player.pause(),p.current().error?this.mode():r.play().then(function(){p.scroll()}).catch(function(e){})},pause:function(){r.pause(),document.title=y},stop:function(){r.pause(),r.currentTime=0,document.title=y},seek:function(e){e=Math.max(e,0),e=Math.min(e,r.duration),r.currentTime=e,b.update(e/r.duration)},muted:function(e){"muted"==e?(r.muted=e,d.set("_PlayerMuted",e),C.update(0)):(d.del("_PlayerMuted"),r.muted=!1,C.update(r.volume))},volume:function(e){isNaN(e)||(C.update(e),d.set("_PlayerVolume",e),r.volume=e)},mini:function(){l.hide()}};var i,l={el:null,create:function(){this.el||(this.el=s.createChild("div",{className:"player-info",innerHTML:("audio"==s.player.options.type?'<div class="preview"></div>':"")+'<div class="controller"></div><div class="playlist"></div>'},"after"),w.el=this.el.child(".preview"),p.el=this.el.child(".playlist"),C.el=this.el.child(".controller"))},hide:function(){var e=this.el;e.addClass("hide"),window.setTimeout(function(){e.removeClass("show hide")},300)}},p={el:null,data:[],index:-1,errnum:0,add:function(n,e){var a=this;e.forEach(function(e,t){e.group=n,e.name=e.name||e.title||"Meida name",e.artist=e.artist||e.author||"Anonymous",e.cover=e.cover||e.pic,e.type=e.type||"normal",a.data.push(e)})},clear:function(){this.data=[],this.el.innerHTML="",-1!==this.index&&(this.index=-1,s.player.fetch())},create:function(){var i=this.el;this.data.map(function(e,n){if(!e.el){var t="list-"+s.player._id+"-"+e.group,a=u("#"+t);return a||(a=i.createChild("div",{id:t,className:s.player.group?"tab":"",innerHTML:"<ol></ol>"}),s.player.group&&a.attr("data-title",s.player.options.rawList[e.group].title).attr("data-id",s.player._id)),e.el=a.child("ol").createChild("li",{title:e.name+" - "+e.artist,innerHTML:'<span class="info"><span>'+e.name+"</span><span>"+e.artist+"</span></span>",onclick:function(e){var t=e.currentTarget;p.index===n&&b.el?r.paused?s.player.play():s.player.seek(r.duration*b.percent(e,t)):(s.player.switch(n),s.player.play())}}),e}}),he()},current:function(){return this.data[this.index]},scroll:function(){var e=this.current(),t=this.el.child("li.active");t&&t.removeClass("active");var n=this.el.child(".tab.active");return n&&n.removeClass("active"),(t=this.el.find(".nav li")[e.group])&&t.addClass("active"),(n=this.el.find(".tab")[e.group])&&n.addClass("active"),c(e.el,e.el.offsetTop),this},title:function(){var e;r.paused||(e=this.current(),document.title="Now Playing..."+e.name+" - "+e.artist+" | "+y)},error:function(){var e=this.current();e.el.removeClass("current").addClass("error"),e.error=!0,this.errnum++}},m={el:null,data:null,index:0,create:function(t){function e(e){var n;a===p.index&&(i.data=i.parse(e),n="",i.data.forEach(function(e,t){n+="<p"+(0===t?' class="current"':"")+">"+e[1]+"</p>"}),i.el=t.createChild("div",{className:"inner",innerHTML:n},"replace"),i.index=0)}var a=p.index,i=this,n=p.current().lrc;n.startsWith("http")?this.fetch(n,e):e(n)},update:function(e){if(this.data&&(this.index>this.data.length-1||e<this.data[this.index][0]||!this.data[this.index+1]||e>=this.data[this.index+1][0]))for(var t,n=0;n<this.data.length;n++){e>=this.data[n][0]&&(!this.data[n+1]||e<this.data[n+1][0])&&(this.index=n,t=-(this.index-1),this.el.style.transform="translateY("+t+"rem)",this.el.style.webkitTransform="translateY("+t+"rem)",this.el.getElementsByClassName("current")[0].removeClass("current"),this.el.getElementsByTagName("p")[n].addClass("current"))}},parse:function(e){if(e){for(var t=(e=e.replace(/([^\]^\n])\[/g,function(e,t){return t+"\n["})).split("\n"),n=[],a=t.length,i=0;i<a;i++){var s=t[i].match(/\[(\d{2}):(\d{2})(\.(\d{2,3}))?]/g),r=t[i].replace(/.*\[(\d{2}):(\d{2})(\.(\d{2,3}))?]/g,"").replace(/<(\d{2}):(\d{2})(\.(\d{2,3}))?>/g,"").replace(/^\s+|\s+$/g,"");if(s)for(var o=s.length,c=0;c<o;c++){var l=/\[(\d{2}):(\d{2})(\.(\d{2,3}))?]/.exec(s[c]),d=60*l[1]+parseInt(l[2])+(l[4]?parseInt(l[4])/(2===(l[4]+"").length?100:1e3):0);n.push([d,r])}}return(n=n.filter(function(e){return e[1]})).sort(function(e,t){return e[0]-t[0]}),n}return[]},fetch:(i=function(e,t){fetch(e).then(function(e){return e.text()}).then(function(e){t(e)}).catch(function(e){})},v.toString=function(){return i.toString()},v)};function v(e,t){return i.apply(this,arguments)}var g,w={el:null,create:function(){var e=p.current();this.el.innerHTML='<div class="cover"><div class="disc"><img src="'+e.cover+'" class="blur" /></div></div><div class="info"><h4 class="title">'+e.name+"</h4><span>"+e.artist+'</span><div class="lrc"></div></div>',this.el.child(".cover").addEventListener("click",s.player.options.events["play-pause"]),m.create(this.el.child(".lrc"))}},b={el:null,bar:null,create:function(){var e=p.current().el;e&&(this.el&&(this.el.parentNode.removeClass("current").removeEventListener(o.nameMap.dragStart,this.drag),this.el.remove()),this.el=e.createChild("div",{className:"progress"}),this.el.attr("data-dtime",o.secondToTime(0)),this.bar=this.el.createChild("div",{className:"bar"}),e.addClass("current"),e.addEventListener(o.nameMap.dragStart,this.drag),p.scroll())},update:function(e){this.bar.width(Math.floor(100*e)+"%"),this.el.attr("data-ptime",o.secondToTime(e*r.duration))},seeking:function(e){e?this.el.addClass("seeking"):this.el.removeClass("seeking")},percent:function(e,t){var n=((e.clientX||e.changedTouches[0].clientX)-t.left())/t.width(),n=Math.max(n,0);return Math.min(n,1)},drag:function(e){e.preventDefault();function a(e){e.preventDefault();var t=b.percent(e,i);b.update(t),m.update(t*r.duration)}var i=p.current().el;r.disableTimeupdate=!0,b.seeking(!0),i.addEventListener(o.nameMap.dragMove,a),i.addEventListener(o.nameMap.dragEnd,function e(t){t.preventDefault(),i.removeEventListener(o.nameMap.dragEnd,e),i.removeEventListener(o.nameMap.dragMove,a);var n=b.percent(t,i);b.update(n),s.player.seek(n*r.duration),r.disableTimeupdate=!1,b.seeking(!1)})}},C={el:null,btns:{},step:"next",create:function(){var n;s.player.options.controls&&(n=this,s.player.options.controls.forEach(function(t){if(!n.btns[t]){var e={onclick:function(e){n.events[t]?n.events[t](e):s.player.options.events[t](e)}};switch(t){case"volume":e.className=" "+(r.muted?"off":"on"),e.innerHTML='<div class="bar"></div>',e["on"+o.nameMap.dragStart]=n.events.volume,e.onclick=null;break;case"mode":e.className=" "+s.player.options.mode;break;default:e.className=""}e.className=t+e.className+" btn",n.btns[t]=n.el.createChild("div",e)}}),n.btns.volume.bar=n.btns.volume.child(".bar"))},events:{mode:function(){switch(s.player.options.mode){case"loop":s.player.options.mode="random";break;case"random":s.player.options.mode="order";break;default:s.player.options.mode="loop"}C.btns.mode.className="mode "+s.player.options.mode+" btn",d.set("_PlayerMode",s.player.options.mode)},volume:function(e){e.preventDefault();function n(e){e.preventDefault(),s.player.volume(C.percent(e,a)),i=!0}var a=e.currentTarget,i=!1;a.addEventListener(o.nameMap.dragMove,n),a.addEventListener(o.nameMap.dragEnd,function e(t){t.preventDefault(),a.removeEventListener(o.nameMap.dragEnd,e),a.removeEventListener(o.nameMap.dragMove,n),i?(s.player.muted(),s.player.volume(C.percent(t,a))):r.muted?(s.player.muted(),s.player.volume(r.volume)):(s.player.muted("muted"),C.update(0))})},backward:function(){C.step="prev",s.player.mode()},forward:function(){C.step="next",s.player.mode()}},update:function(e){C.btns.volume.className="volume "+(!r.muted&&0<e?"on":"off")+" btn",C.btns.volume.bar.width(Math.floor(100*e)+"%")},percent:function(e,t){var n=((e.clientX||e.changedTouches[0].clientX)-t.left())/t.width(),n=Math.max(n,0);return Math.min(n,1)}},x={onerror:function(){p.error(),s.player.mode()},ondurationchange:function(){1!==r.duration&&b.el.attr("data-dtime",o.secondToTime(r.duration))},onloadedmetadata:function(){s.player.seek(0),b.el.attr("data-dtime",o.secondToTime(r.duration))},onplay:function(){s.parentNode.addClass("playing"),$(this.attr("title")),f=s},onpause:function(){s.parentNode.removeClass("playing"),f=null},ontimeupdate:function(){this.disableTimeupdate||(b.update(this.currentTime/this.duration),m.update(this.currentTime))},onended:function(){s.player.mode(),s.player.play()}},k={el:{},create:function(){var e;s.player.options.btns&&(e=this,s.player.options.btns.forEach(function(t){e.el[t]||(e.el[t]=s.createChild("div",{className:t+" btn",onclick:function(e){s.player.fetch().then(function(){s.player.options.events[t](e)})}}))}))}};return g=e,s.player.created||(s.player.options=Object.assign(n,g),s.player.options.mode=d.get("_PlayerMode")||s.player.options.mode,k.create(),r=s.createChild(s.player.options.type,x),l.create(),s.parentNode.addClass(s.player.options.type),s.player.created=!0),s},m=0<e.statics.indexOf("//")?e.statics:e.root,v={x:"undefined",y:"undefined"},g=0,w=document.getElementsByTagName("body")[0],C=document.documentElement,x=u("#container"),k=u("#loading"),L=u("#nav"),E=u("#header"),T=L.child(".toggle"),M=u("#quick"),N=u("#sidebar"),O=u("#brand"),j=u("#tool"),q=u("#search"),D=window.innerHeight,z=window.innerWidth,W=0,B=window.location.href,F=lozad("img, [data-background-image]",{loaded:function(e){e.addClass("lozaded")}}),X={timer:null,lock:!1,show:function(){clearTimeout(this.timer),document.body.removeClass("loaded"),k.attr("style","display:block"),X.lock=!1},hide:function(t){e.loader.start||(t=-1),this.timer=setTimeout(this.vanish,t||3e3)},vanish:function(){X.lock||(e.loader.start&&l(k,0),document.body.addClass("loaded"),X.lock=!0)}},G=function(e){var t=u(".theme .ic");"dark"==e?(C.attr("data-theme",e),t.removeClass("i-sun"),t.addClass("i-moon")):(C.attr("data-theme",null),t.removeClass("i-moon"),t.addClass("i-sun"))},U=function(e){"dark"==C.attr("data-theme")&&(e="#222"),u('meta[name="theme-color"]').attr("content",e)},V=function(){window.matchMedia("(prefers-color-scheme: dark)").addListener(function(e){e.matches?G("dark"):G()});var t=d.get("theme");t?G(t):e.darkmode&&G("dark"),u(".theme").addEventListener("click",function(e){function t(){l(i,{delay:2500,opacity:0},function(){w.removeChild(i)})}var n,a=e.currentTarget.child(".ic"),i=w.createChild("div",{id:"neko",innerHTML:'<div class="planet"><div class="sun"></div><div class="moon"></div></div><div class="body"><div class="face"><section class="eyes left"><span class="pupil"></span></section><section class="eyes right"><span class="pupil"></span></section><span class="nose"></span></div></div>'});n=a.hasClass("i-sun")?function(){i.addClass("dark"),G("dark"),d.set("theme","dark"),t()}:(i.addClass("dark"),function(){i.removeClass("dark"),G(),d.set("theme","light"),t()}),l(i,1,function(){setTimeout(n,210)})})},Q=function(){document.addEventListener("visibilitychange",function(){switch(document.visibilityState){case"hidden":u('[rel="icon"]').attr("href",m+e.favicon.hidden),document.title=LOCAL.favicon.hide,e.loader.switch&&X.show(),clearTimeout(b);break;case"visible":u('[rel="icon"]').attr("href",m+e.favicon.normal),document.title=LOCAL.favicon.show,e.loader.switch&&X.hide(1e3),b=setTimeout(function(){document.title=y},2e3)}})},$=function(e){var t;e&&(t=w.createChild("div",{innerHTML:e,className:"tip"}),setTimeout(function(){t.addClass("hide"),setTimeout(function(){w.removeChild(t)},300)},3e3))},J=function(){_=L.height(),R=E.height(),P=R+u("#waves").height(),z!=window.innerWidth&&ae(null,1),D=window.innerHeight,z=window.innerWidth,N.child(".panels").height(D+"px")},K=function(){var e=window.innerHeight,t=a(),n=e<t?t-e:document.body.scrollHeight-e,i=window.pageYOffset>R,s=0<window.pageYOffset;U(i?"#FFF":"#222"),L.toggleClass("show",i),j.toggleClass("affix",s),O.toggleClass("affix",s),N.toggleClass("affix",window.pageYOffset>P&&991<document.body.offsetWidth),void 0===v.y&&(v.y=window.pageYOffset),(g=v.y-window.pageYOffset)<0?(L.removeClass("up"),L.toggleClass("down",i)):0<g&&(L.removeClass("down"),L.toggleClass("up",i)),v.y=window.pageYOffset;var r=Math.round(Math.min(100*window.pageYOffset/n,100))+"%";H.child("span").innerText=r,u(".percent").width(r)},Z=function(){e.auto_scroll&&d.set(B,v.y)},ee=function(t){var n=window.location.hash,a=null;W?d.del(B):((a=n?u(decodeURI(n)):e.auto_scroll?parseInt(d.get(B)):0)&&(c(a),W=1),t&&n&&!W&&(c(a),W=1))},te=function(e,t){var n=w.createChild("textarea",{style:{top:window.scrollY+"px",position:"absolute",opacity:"0"},readOnly:!0,value:e}),a=document.getSelection(),i=0<a.rangeCount&&a.getRangeAt(0);n.select(),n.setSelectionRange(0,e.length),n.readOnly=!1;var s=document.execCommand("copy");t&&t(s),n.blur(),i&&(a.removeAllRanges(),a.addRange(i)),w.removeChild(n)},ae=function(e,t){N.hasClass("on")?(N.removeClass("on"),T.removeClass("close"),t?N.style="":l(N,"slideRightOut")):t?N.style="":l(N,"slideRightIn",function(){N.addClass("on"),T.addClass("close")})},ne=function(){var e=N.child(".inner");N.find(".panel");N.child(".tab")&&e.removeChild(N.child(".tab"));var s=document.createElement("ul"),r="active";s.className="tab",["contents","related","overview"].forEach(function(e){var t,n,a,i=N.child(".panel."+e);i.innerHTML.replace(/(^\s*)|(\s*$)/g,"").length<1?"contents"==e&&S.display("none"):("contents"==e&&S.display(""),t=document.createElement("li"),n=document.createElement("span"),a=document.createTextNode(i.attr("data-title")),n.appendChild(a),t.appendChild(n),t.addClass(e+" item"),r?(i.addClass(r),t.addClass(r)):i.removeClass("active"),t.addEventListener("click",function(e){var t=event.currentTarget;t.hasClass("active")||(N.find(".tab .item").forEach(function(e){e.removeClass("active")}),N.find(".panel").forEach(function(e){e.removeClass("active")}),N.child(".panel."+t.className.replace(" item","")).addClass("active"),t.addClass("active"))}),s.appendChild(t),r="")}),1<s.childNodes.length?(e.insertBefore(s,e.childNodes[0]),N.child(".panels").style.paddingTop=""):N.child(".panels").style.paddingTop=".625rem"},ie=function(){var o,s,r,l,t,d=u.all(".contents li");d.length<1||(s=Array.prototype.slice.call(d)||[],o=null,s=s.map(function(t,n){var a=t.child("a.toc-link"),i=u(decodeURI(a.attr("href")));if(i){var s=i.child("a.anchor"),r=function(e){e.preventDefault();var t=u(decodeURI(e.currentTarget.attr("href")));o=n,c(t,null,function(){l(n),o=null})};return a.addEventListener("click",r),s&&s.addEventListener("click",function(t){r(t),te(e.hostname+"/"+LOCAL.path+t.currentTarget.attr("href"))}),i}}),r=N.child(".contents.panel"),l=function(e,t){var n=d[e];if(n&&!n.hasClass("current")){u.each(".toc .active",function(e){e&&e.removeClass("active current")}),s.forEach(function(e){e&&e.removeClass("active")}),n.addClass("active current"),s[e]&&s[e].addClass("active");for(var a,i=n.parentNode;!i.matches(".contents");){i.matches("li")&&(i.addClass("active"),(a=u(i.child("a.toc-link").attr("href")))&&a.addClass("active")),i=i.parentNode}"none"!=getComputedStyle(N).display&&r.hasClass("active")&&c(r,n.offsetTop-r.offsetHeight/4)}},window.IntersectionObserver&&(t=new IntersectionObserver(function(e,t){var n=function(e){var t=0,n=e[t];if(0<n.boundingClientRect.top)return 0===(t=s.indexOf(n.target))?0:t-1;for(;t<e.length;t++){if(!(e[t].boundingClientRect.top<=0))return s.indexOf(n.target);n=e[t]}return s.indexOf(n.target)}(e)+(g<0?1:0);null===o&&l(n)},{rootMargin:"0px 0px -100% 0px",threshold:0}),s.forEach(function(e){e&&t.observe(e)})))},re=function(){c(0)},se=function(){c(parseInt(x.height()))},oe=function(){c(u("#comments"))},ce=function(){u.each(".menu .item:not(.title)",function(t){var n,a,i,s=t.child("a[href]");s&&(n=s.pathname===location.pathname||s.pathname===location.pathname.replace("index.html",""),a=!e.root.startsWith(s.pathname)&&location.pathname.startsWith(s.pathname),i=s.hostname===location.hostname&&(n||a),t.toggleClass("active",i),t.parentNode.parentNode.toggleClass("expand",t.parentNode.hasClass("submenu")&&t.parentNode.child(".active")))})},le=function(){var t;u(".index.wrap")&&(window.IntersectionObserver?(t=new IntersectionObserver(function(e){e.forEach(function(e){e.target.hasClass("show")?t.unobserve(e.target):(e.isIntersecting||0<e.intersectionRatio)&&(e.target.addClass("show"),t.unobserve(e.target))})},{root:null,threshold:[.3]}),u.each(".index.wrap article.item, .index.wrap section.item",function(e){t.observe(e)}),u(".index.wrap .item:first-child").addClass("show")):u.each(".index.wrap article.item, .index.wrap section.item",function(e){!1===e.hasClass("show")&&e.addClass("show")}),u.each(".cards .item",function(t,e){["mouseenter","touchstart"].forEach(function(e){t.addEventListener(e,function(e){u(".cards .item.active")&&u(".cards .item.active").removeClass("active"),t.addClass("active")})}),["mouseleave"].forEach(function(e){t.addEventListener(e,function(e){t.removeClass("active")})})}))},de=function(){u.each("span.exturl",function(e){var t=document.createElement("a");t.href=decodeURIComponent(atob(e.dataset.url).split("").map(function(e){return"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)}).join("")),t.rel="noopener external nofollow noreferrer",t.target="_blank",t.className=e.className,t.title=e.title||e.innerText,t.innerHTML=e.innerHTML,e.dataset.backgroundImage&&(t.dataset.backgroundImage=e.dataset.backgroundImage),e.parentNode.replaceChild(t,e)})},ue=function(e){u(e+" .md img")&&(s("fancybox"),r("fancybox",function(){var c=jQuery.noConflict();u.each(e+" p.gallery",function(e){var t=document.createElement("div");t.className="gallery",t.attr("data-height",e.attr("data-height")||120),t.innerHTML=e.innerHTML.replace(/<br>/g,""),e.parentNode.insertBefore(t,e),e.remove()}),u.each(e+" .md img:not(.emoji):not(.vemoji)",function(e){var t,n,a,i,s,r=c(e),o="image-info";r.is("a img")||(n=r.attr("data-src")||r.attr("src"),r.data("safe-src",n),a=r.wrap('<a class="fancybox" href="'+n+'" itemscope itemtype="http://schema.org/ImageObject" itemprop="url"></a>').parent("a"),r.is(".gallery img")?o="jg-caption":a.attr("data-fancybox","default").attr("rel","default")),(t=e.attr("title"))&&(a.attr("data-caption",t),i=document.createElement("span"),s=document.createTextNode(t),i.appendChild(s),i.addClass(o),e.insertAfter(i))}),u.each(e+" div.gallery",function(e,n){c(e).justifiedGallery({rowHeight:c(e).data("height")||120,rel:"gallery-"+n}).on("jg.complete",function(){c(this).find("a").each(function(e,t){t.attr("data-fancybox","gallery-"+n)})})}),c.fancybox.defaults.hash=!1,c(e+" .fancybox").fancybox({loop:!0,helpers:{overlay:{locked:!1}}})},window.jQuery))},fe=function(){pe(),u(".md")&&(ue(".post.block"),u(".post.block").oncopy=function(e){$(LOCAL.copyright);var t=u("#copyright");if(30<window.getSelection().toString().length&&t){e.preventDefault();var n="# "+t.child(".author").innerText,a="# "+t.child(".link").innerText,i="# "+t.child(".license").innerText,s=n+"<br>"+a+"<br>"+i+"<br><br>"+window.getSelection().toString().replace(/\r\n/g,"<br>"),r=n+"\n"+a+"\n"+i+"\n\n"+window.getSelection().toString().replace(/\r\n/g,"\n");if(e.clipboardData)e.clipboardData.setData("text/html",s),e.clipboardData.setData("text/plain",r);else if(window.clipboardData)return window.clipboardData.setData("text",r)}},u.each("li ruby",function(e){var t=e.parentNode;"LI"!=e.parentNode.tagName&&(t=e.parentNode.parentNode),t.addClass("ruby")}),u.each(".md table",function(e){e.wrap({className:"table-container"})}),u.each(".highlight > .table-container",function(e){e.className="code-container"}),u.each("figure.highlight",function(n){var i=n.child(".code-container"),e=n.child("figcaption");n.insertAdjacentHTML("beforeend",'<div class="operation"><span class="breakline-btn"><i class="ic i-align-left"></i></span><span class="copy-btn"><i class="ic i-clipboard"></i></span><span class="fullscreen-btn"><i class="ic i-expand"></i></span></div>');var t=n.child(".copy-btn");t.addEventListener("click",function(e){var t=e.currentTarget,n="",a="";i.find("pre").forEach(function(e){a+=n+e.innerText,n="\n"}),te(a,function(e){t.child(".ic").className=e?"ic i-check":"ic i-times",t.blur(),$(LOCAL.copyright)})}),t.addEventListener("mouseleave",function(e){setTimeout(function(){e.target.child(".ic").className="ic i-clipboard"},1e3)}),n.child(".breakline-btn").addEventListener("click",function(e){var t=e.currentTarget;n.hasClass("breakline")?(n.removeClass("breakline"),t.child(".ic").className="ic i-align-left"):(n.addClass("breakline"),t.child(".ic").className="ic i-align-justify")});function a(){n.removeClass("fullscreen"),n.scrollTop=0,w.removeClass("fullscreen"),d.child(".ic").className="ic i-expand"}function s(e){e.currentTarget,n.hasClass("fullscreen")?(a(),l&&l(),c(n)):(n.addClass("fullscreen"),w.addClass("fullscreen"),d.child(".ic").className="ic i-compress",o&&o())}var r,o,l,d=n.child(".fullscreen-btn");d.addEventListener("click",s),e&&e.addEventListener("click",s),i&&300<i.height()&&(i.style.maxHeight="300px",i.insertAdjacentHTML("beforeend",'<div class="show-btn"><i class="ic i-angle-down"></i></div>'),(r=i.child(".show-btn")).child("i"),o=function(){i.style.maxHeight="",r.addClass("open")},l=function(){i.style.maxHeight="300px",r.removeClass("open")},r.addEventListener("click",function(e){r.hasClass("open")?(a(),l(),c(i)):o()}))}),u.each("pre.mermaid > svg",function(e){e.style.maxWidth=""}),u.each(".reward button",function(e){e.addEventListener("click",function(e){e.preventDefault();var t=u("#qr");"inline-flex"===t.display()?l(t,0):l(t,1,function(){t.display("inline-flex")})})}),u.each(".quiz > ul.options li",function(t){t.addEventListener("click",function(e){t.hasClass("correct")?(t.toggleClass("right"),t.parentNode.parentNode.addClass("show")):t.toggleClass("wrong")})}),u.each(".quiz > p",function(t){t.addEventListener("click",function(e){t.parentNode.toggleClass("show")})}),u.each(".quiz > p:first-child",function(e){var t=e.parentNode,n="choice";(t.hasClass("true")||t.hasClass("false"))&&(n="true_false"),t.hasClass("multi")&&(n="multiple"),t.hasClass("fill")&&(n="gap_fill"),t.hasClass("essay")&&(n="essay"),e.attr("data-type",LOCAL.quiz[n])}),u.each(".quiz .mistake",function(e){e.attr("data-type",LOCAL.quiz.mistake)}),u.each("div.tags a",function(e){e.className=["primary","success","info","warning","danger"][Math.floor(5*Math.random())]}),u.each(".md div.player",function(e){p(e,{type:e.attr("data-type"),mode:"order",btns:[]}).player.load(JSON.parse(e.attr("data-src"))).fetch()}))},he=function(){var r;u.each("div.tab",function(n,e){var t,a,i,s;n.attr("data-ready")||(t=n.attr("data-id"),a=n.attr("data-title"),i=u("#"+t),r=!i&&((i=document.createElement("div")).className="tabs",i.id=t,i.innerHTML='<div class="show-btn"></div>',i.child(".show-btn").addEventListener("click",function(e){c(i)}),n.parentNode.insertBefore(i,n),!0),s=(i.child(".nav ul")||i.createChild("div",{className:"nav",innerHTML:"<ul></ul>"}).child("ul")).createChild("li",{innerHTML:a}),r&&(s.addClass("active"),n.addClass("active")),s.addEventListener("click",function(e){var t=e.currentTarget;i.find(".active").forEach(function(e){e.removeClass("active")}),n.addClass("active"),t.addClass("active")}),i.appendChild(n),n.attr("data-ready",!0))})},pe=function(){var e=u("#comments");e?(A.display(""),window.IntersectionObserver?new IntersectionObserver(function(e,t){var n=e[0];s("valine"),(n.isIntersecting||0<n.intersectionRatio)&&(l(u("#comments"),"bounceUpIn"),t.disconnect())}).observe(e):s("valine")):A.display("none")},me=function(t){var n,a;null!==e.search&&(q=q||w.createChild("div",{id:"search",innerHTML:'<div class="inner"><div class="header"><span class="icon"><i class="ic i-search"></i></span><div class="search-input-container"></div><span class="close-btn"><i class="ic i-times-circle"></i></span></div><div class="results"><div class="inner"><div id="search-stats"></div><div id="search-hits"></div><div id="search-pagination"></div></div></div></div>'}),(n=instantsearch({indexName:e.search.indexName,searchClient:algoliasearch(e.search.appID,e.search.apiKey),searchFunction:function(e){u(".search-input").value&&e.search()}})).on("render",function(){t.refresh(u("#search-hits"))}),n.addWidgets([instantsearch.widgets.configure({hitsPerPage:e.search.hits.per_page||10}),instantsearch.widgets.searchBox({container:".search-input-container",placeholder:LOCAL.search.placeholder,showReset:!1,showSubmit:!1,showLoadingIndicator:!1,cssClasses:{input:"search-input"}}),instantsearch.widgets.stats({container:"#search-stats",templates:{text:function(e){return LOCAL.search.stats.replace(/\$\{hits}/,e.nbHits).replace(/\$\{time}/,e.processingTimeMS)+'<span class="algolia-powered"></span><hr>'}}}),instantsearch.widgets.hits({container:"#search-hits",templates:{item:function(t){var n=t.categories?"<span>"+t.categories.join('<i class="ic i-angle-right"></i>')+"</span>":"";return'<a href="'+e.root+t.path+'">'+n+t._highlightResult.title.value+"</a>"},empty:function(e){return'<div id="hits-empty">'+LOCAL.search.empty.replace(/\$\{query}/,e.query)+"</div>"}},cssClasses:{item:"item"}}),instantsearch.widgets.pagination({container:"#search-pagination",scrollTo:!1,showFirst:!1,showLast:!1,templates:{first:'<i class="ic i-angle-double-left"></i>',last:'<i class="ic i-angle-double-right"></i>',previous:'<i class="ic i-angle-left"></i>',next:'<i class="ic i-angle-right"></i>'},cssClasses:{root:"pagination",item:"pagination-item",link:"page-number",selectedItem:"current",disabledItem:"disabled-item"}})]),n.start(),u.each(".search",function(e){e.addEventListener("click",function(){document.body.style.overflow="hidden",l(q,"shrinkIn",function(){u(".search-input").focus()})})}),a=function(){document.body.style.overflow="",l(q,0)},q.addEventListener("click",function(e){e.target===q&&a()}),u(".close-btn").addEventListener("click",a),window.addEventListener("pjax:success",a),window.addEventListener("keyup",function(e){"Escape"===e.key&&a()}))},ve=function(){u.each(".overview .menu > .item",function(e){L.child(".menu").appendChild(e.cloneNode(!0))}),k.addEventListener("click",X.vanish),T.addEventListener("click",ae),u(".dimmer").addEventListener("click",ae),M.child(".down").addEventListener("click",se),M.child(".up").addEventListener("click",re),j=j||E.createChild("div",{id:"tool",innerHTML:'<div class="item player"></div><div class="item contents"><i class="ic i-list-ol"></i></div><div class="item chat"><i class="ic i-comments"></i></div><div class="item back-to-top"><i class="ic i-arrow-up"></i><span>0%</span></div>'}),I=j.child(".player"),H=j.child(".back-to-top"),A=j.child(".chat"),S=j.child(".contents"),H.addEventListener("click",re),A.addEventListener("click",oe),S.addEventListener("click",ae),p(I),u("main").addEventListener("click",function(){I.player.mini()})},ge=function(){Z(),N.hasClass("on")&&l(N,function(){N.removeClass("on"),T.removeClass("close")}),u("#main").innerHTML="",u("#main").appendChild(k.lastChild.cloneNode(!0)),c(0)},ye=function(t){W=0,B=window.location.href,s("katex"),r("copy_tex"),s("mermaid"),r("chart"),r("valine",function(){var t=Object.assign({},e.valine);(t=Object.assign(t,LOCAL.valine||{})).el="#comments",t.pathname=LOCAL.path,t.pjax=Y,t.lazyload=F,new MiniValine(t),setTimeout(function(){ee(1),ue(".v")},1e3)},window.MiniValine),t||u.each("script[data-pjax]",o),y=document.title,J(),ce(),ne(),ie(),de(),fe(),he(),I.player.load(LOCAL.audio||e.audio||{}),X.hide(),setTimeout(function(){ee()},500),le(),F.observe()},be=function(){ve(),Y=new Pjax({selectors:["head title",".languages",".pjax","script[data-config]"],analytics:!1,cacheBust:!1}),e.quicklink.ignores=LOCAL.ignores,quicklink.listen(e.quicklink),Q(),V(),me(Y),window.addEventListener("scroll",K),window.addEventListener("resize",J),window.addEventListener("pjax:send",ge),window.addEventListener("pjax:success",ye),window.addEventListener("beforeunload",function(){Z()}),ye(1)};window.addEventListener("DOMContentLoaded",be),console.log("%c Theme.Shoka v"+e.version+" %c https://shoka.lostyu.me/ ","color: white; background: #e9546b; padding:5px 0;","padding:4px;border:1px solid #e9546b;");var we=document.createElement("canvas");we.style.cssText="position:fixed;top:0;left:0;pointer-events:none;z-index:9999999",document.body.appendChild(we);var Ce=we.getContext("2d"),xe=30,ke=0,Le=0,Ee="click",Te=e.fireworks;function Me(){we.width=2*window.innerWidth,we.height=2*window.innerHeight,we.style.width=window.innerWidth+"px",we.style.height=window.innerHeight+"px",we.getContext("2d").scale(2,2)}function Ne(e){ke=e.clientX||e.touches&&e.touches[0].clientX,Le=e.clientY||e.touches&&e.touches[0].clientY}function Oe(e){var t=anime.random(0,360)*Math.PI/180,n=anime.random(50,180),a=[-1,1][anime.random(0,1)]*n;return{x:e.x+a*Math.cos(t),y:e.y+a*Math.sin(t)}}function je(e,t){var n={};return n.x=e,n.y=t,n.color=Te[anime.random(0,Te.length-1)],n.radius=anime.random(16,32),n.endPos=Oe(n),n.draw=function(){Ce.beginPath(),Ce.arc(n.x,n.y,n.radius,0,2*Math.PI,!0),Ce.fillStyle=n.color,Ce.fill()},n}function Ie(e,t){var n={};return n.x=e,n.y=t,n.color="#FFF",n.radius=.1,n.alpha=.5,n.lineWidth=6,n.draw=function(){Ce.globalAlpha=n.alpha,Ce.beginPath(),Ce.arc(n.x,n.y,n.radius,0,2*Math.PI,!0),Ce.lineWidth=n.lineWidth,Ce.strokeStyle=n.color,Ce.stroke(),Ce.globalAlpha=1},n}function He(e){for(var t=0;t<e.animatables.length;t++)e.animatables[t].target.draw()}function Ae(e,t){for(var n=Ie(e,t),a=[],i=0;i<xe;i++)a.push(je(e,t));anime.timeline().add({targets:a,x:function(e){return e.endPos.x},y:function(e){return e.endPos.y},radius:.1,duration:anime.random(1200,1800),easing:"easeOutExpo",update:He}).add({targets:n,radius:anime.random(80,160),lineWidth:0,alpha:{value:0,easing:"linear",duration:anime.random(600,800)},duration:anime.random(1200,1800),easing:"easeOutExpo",update:He},0)}var Se=anime({duration:1/0,update:function(){Ce.clearRect(0,0,we.width,we.height)}});document.addEventListener(Ee,function(e){Se.play(),Ne(e),Ae(ke,Le)},!1),Me(),window.addEventListener("resize",Me,!1);